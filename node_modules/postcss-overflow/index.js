var postcss = require('postcss');

module.exports = postcss.plugin('postcss-overflow', function () {
    return function (css) {
        css.walkDecls('overflow', function (decl) {
            var types = postcss.list.space(decl.value);
            if (types.length !== 1) {
                if (types[0] !== '*') {
                    decl.cloneBefore({ prop: 'overflow-x', value: types[0] });
                }
                if (types[1] !== '*') {
                    decl.cloneBefore({ prop: 'overflow-y', value: types[1] });
                }
                decl.remove();
            }
            return;
        });
    };
});
